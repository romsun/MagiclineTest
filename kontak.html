<!DOCTYPE html>
<html>
  <head>
    <title>Kontak</title>

    <script type="text/javascript" charset="utf-8" src="cordova-3.0.js"></script>
    <script type="text/javascript" charset="utf-8">

    // Wait for PhoneGap to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // PhoneGap is ready
    //
    function onDeviceReady() {
        // find all contacts with 'Bob' in any name field
        var options = new ContactFindOptions();
        options.filter="";
	options.multiple=true;
        var fields = ["displayName","phoneNumbers"];
        navigator.contacts.find(fields, onSuccess, onError, options);
    }


    function onSuccess(contacts) {
        for (var i=0; i<contacts.length; i++) {
            alert(contacts[i].displayName);
            var phonenumber;
            phonenumber = contacts[i].phoneNumbers[i];
            $("ul").append("<li><a href=tel:"+phonenumber+">"+contacts[i].displayName+"</a></li>");
        }
    };


    // onSuccess: Get a snapshot of the current contacts
    //
    function onSuccess2(contacts) {
        for (var i=0; i<contacts.length; i++) {
            console.log("Display Name = " + contacts[i].displayName[0]);
        }
    }


        // onSuccess: Get a snapshot of the current contacts
        //
        function onSuccess22(contacts) {
            console.log(contacts.length);
            for (var i=0; i<contacts.length; i++) {
                var LI=$("#list").append('<li>'+contacts[i].displayName+'</li>');

                if (contacts[i].displayName) {
                    for (var j=0; j<contacts[i].displayName.length; j++) {
                        $(LI).append('<span>'+contacts[i].displayName[j].value+'</span><Br/>');
                    }
                }

                if (contacts[i].phoneNumbers) {
                    for (var j=0; j<contacts[i].phoneNumbers.length; j++) {
                        $(LI).append('<span>'+contacts[i].phoneNumbers[j].value+'</span><Br/>');
                    }
                }

                if (contacts[i].emails) {
                    for (var j=0; j<contacts[i].emails.length; j++) {
                        $(LI).append('<span>'+contacts[i].emails[j].value+'</span><br/>');
                    }
                }

                if (contacts[i].photos) {
                    for (var j=0; j<contacts[i].photos.length; j++) {
                        alert(contacts[i].photos[j].value);
                        //$(LI).append('<span>'+contacts[i].photos[j].value+'</span><br/>');
                    }
                }
                /*if (contacts[i].photos) {
                    for (var j=0; j<contacts[i].photos.length; j++) {
                        $(LI).append('<img src="'+contacts[i].photos[j].value+'"/><br/>');
                    }
                }*/
            }
        };



    // onError: Failed to get the contacts
    //
    function onError(contactError) {
        alert('onError!');
    }

    </script>
  </head>
  <body>
    <h1>Daftar Kontak</h1>
    <p>Find Contacts</p>

    <ul id="list">

    </ul>

  </body>
</html>
