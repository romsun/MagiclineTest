<!DOCTYPE html>
<html>
  <head>
    <title>Kontak</title>

   <link rel="stylesheet" href="jquery.mobile-1.3.1.min.css">


   <script type="text/javascript" charset="utf-8" src="phonegap.js"></script>
    <script type="text/javascript" charset="utf-8">
 	<script type="text/javascript" src="jq203.min.js"> </script>
	<script src="jquery.mobile-1.3.2.min.js"></script>

  </head>
  <body>
<div data-role="dialog">
	
		<div data-role="header" data-theme="d">
			<h1>Daftar Kontak</h1>
		</div>

	<div data-role="content">


	<ul id="list">

    	</ul>

	</div>
</div>



<script type="text/javascript">

    // Wait for PhoneGap to load
    //
    // document.addEventListener("deviceready", onDeviceReady, false);

    // PhoneGap is ready
    //
    function onDeviceReady() {
        // find all contacts with 'Bob' in any name field
        var options = new ContactFindOptions();
        options.filter="";
	options.multiple=true;
        var fields = ["displayName","phoneNumbers"];
        navigator.contacts.find(fields, suksesYo, onError, options);
	alert("Ready");
    }


    function suksesYo(contacts) {
        for (var i=0; i<contacts.length; i++) {
            // console.log("Phone-Number = " + contacts[i].phoneNumbers);
	    var LI=$("#list").append('<li>'+contacts[i].displayName+'</li>');
	alert("Ready");
        }
    }


    // onSuccess: Get a snapshot of the current contacts
    //
    function onSuccess2(contacts) {
        for (var i=0; i<contacts.length; i++) {
		var LI=$("#list").append('<li>'+contacts[i].displayName+'</li>');

            console.log("Display Name = " + contacts[i].displayName);
        }
    }


        // onSuccess: Get a snapshot of the current contacts
        //
        function onSuccess22(contacts) {
            console.log(contacts.length);
            for (var i=0; i<contacts.length; i++) {
                var LI=$("#list").append('<li>'+contacts[i].displayName+'</li>');

                if (contacts[i].displayName) {
                    for (var j=0; j<contacts[i].displayName.length; j++) {
                        $(LI).append('<span>'+contacts[i].displayName[j].value+'</span><Br/>');
                    }
                }

                if (contacts[i].phoneNumbers) {
                    for (var j=0; j<contacts[i].phoneNumbers.length; j++) {
                        $(LI).append('<span>'+contacts[i].phoneNumbers[j].value+'</span><Br/>');
                    }
                }

                if (contacts[i].emails) {
                    for (var j=0; j<contacts[i].emails.length; j++) {
                        $(LI).append('<span>'+contacts[i].emails[j].value+'</span><br/>');
                    }
                }

                if (contacts[i].photos) {
                    for (var j=0; j<contacts[i].photos.length; j++) {
                        alert(contacts[i].photos[j].value);
                        //$(LI).append('<span>'+contacts[i].photos[j].value+'</span><br/>');
                    }
                }
                /*if (contacts[i].photos) {
                    for (var j=0; j<contacts[i].photos.length; j++) {
                        $(LI).append('<img src="'+contacts[i].photos[j].value+'"/><br/>');
                    }
                }*/
            }
        }



    // onError: Failed to get the contacts
    //
    function onError(contactError) {
        alert('onError!');
    }


var el = document.getElementById("list");
el.addEventListener("deviceready", suksesYo, false);

    </script>

  </body>
</html>










